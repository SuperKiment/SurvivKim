<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShapeModel Editor</title>
    <link rel="stylesheet" href="shapemodel-editor.css">
</head>
<body>

<!-- ============================================================
     HEADER
     ============================================================ -->
<header>
    <div class="logo">SM<small>/ ShapeModel Editor</small></div>
    <div class="toolbar">
        <button class="btn" id="btnAdd">+ Add Shape</button>
        <button class="btn danger" id="btnClear">Clear</button>
    </div>
    <div class="hdr-right">
        <span class="mode-badge" id="modeBadge">SELECT</span>
        <button class="btn primary" id="btnExport">Export ↗</button>
    </div>
</header>

<!-- ============================================================
     WORKSPACE
     ============================================================ -->
<div class="workspace">

    <!-- ── LEFT PANEL: Shapes + Fonts ── -->
    <div class="panel">
        <div class="left-tabs">
            <button class="tab-btn active" data-tab="shapes">Shapes</button>
            <button class="tab-btn" data-tab="fonts">Fonts</button>
        </div>

        <!-- SHAPES TAB -->
        <div class="tab-pane active" id="tab-shapes">
            <div class="panel-hdr">
                Shapes
                <em id="shapeCount">0</em>
            </div>
            <div class="panel-body">
                <div class="shape-list" id="shapeList">
                    <div class="empty-state">
                        No shapes yet.<br>
                        Click "+ Add Shape"<br>
                        to begin.
                    </div>
                </div>
            </div>
        </div>

        <!-- FONTS TAB -->
        <div class="tab-pane" id="tab-fonts">
            <div class="panel-hdr">
                Font Manager
                <em id="fontCount">0</em>
            </div>
            <div class="panel-body">
                <div class="font-hint">
                    Place font files (<strong>.ttf / .otf / .woff</strong>) next to
                    this HTML file, then register them here by name&nbsp;+&nbsp;filename.
                </div>
                <div class="font-list" id="fontList"></div>
                <div class="add-font-form">
                    <span class="add-font-form-title">Register font</span>
                    <div class="prop-field">
                        <span class="prop-field-label">Font name (used in Java)</span>
                        <input type="text" id="newFontName" placeholder="e.g. minecraft">
                    </div>
                    <div class="prop-field">
                        <span class="prop-field-label">Filename (relative to this HTML)</span>
                        <input type="text" id="newFontFile" placeholder="e.g. minecraft.ttf">
                    </div>
                    <button class="btn sm active" id="btnAddFont">Load Font</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ── CENTER: Canvas ── -->
    <div class="canvas-area" id="canvasArea">
        <canvas id="canvas"></canvas>
        <div class="canvas-hint">
            Click to place &nbsp;·&nbsp; Drag to move &nbsp;·&nbsp;
            Alt+drag to pan &nbsp;·&nbsp; Arrows to nudge &nbsp;·&nbsp;
            D to duplicate &nbsp;·&nbsp; Del to remove
        </div>
        <div class="canvas-coords" id="coords">0, 0</div>
    </div>

    <!-- ── RIGHT PANEL: Properties ── -->
    <div class="panel right">
        <div class="panel-hdr">Properties</div>
        <div class="panel-body" id="props">
            <div class="no-sel">
                Select a shape<br>to edit its properties.
            </div>
        </div>
    </div>

</div>

<!-- ============================================================
     EXPORT MODAL
     ============================================================ -->
<div class="modal-bg" id="exportModal">
    <div class="modal">
        <div class="modal-hdr">
            <div class="modal-title">Export ShapeModel</div>
            <button class="modal-close" id="btnModalClose">✕</button>
        </div>

        <div class="export-tabs">
            <button class="export-tab active" data-etab="java">Java</button>
            <button class="export-tab" data-etab="json">JSON</button>
            <button class="export-tab" data-etab="loader">Java JSON Loader</button>
        </div>

        <div class="export-pane active" id="epane-java">
            <div class="modal-code" id="exportJava"></div>
        </div>
        <div class="export-pane" id="epane-json">
            <div class="modal-code" id="exportJson"></div>
        </div>
        <div class="export-pane" id="epane-loader">
            <div class="modal-code" id="exportLoader"></div>
        </div>

        <div class="modal-foot">
            <button class="btn" id="btnCopy">Copy to clipboard</button>
            <button class="btn primary" id="btnModalDone">Done</button>
        </div>
    </div>
</div>

<script src="shapemodel-editor.js"></script>
</body>
</html>